<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>惟医-首页</title>
    <script src="/js/JQuery.js"></script>
    <script src="/js/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <!--<script src="/js/global.js" ></script>-->
    <link href="/js/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/css/color.css" rel="stylesheet"/>
    <link href="/css/common.css" rel="stylesheet">
    <link href="/css/global.css" rel="stylesheet"/>
    <link href="/css/homepage.css" rel="stylesheet"/>
    <script src="/js/homepage.js"></script>

</head>
<body>
<!--可重用代码区-->
<div th:replace="_fragments::nav"></div>


<!--分类-->
<div id="third">
    <div id="displaybox" class="width-main center">
        <div id="type-list-container" class="bg-darkblue text-white">
            <div id="type-list">
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 内科</div>-->
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 外科</div>-->
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 妇产科</div>-->
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 儿科</div>-->
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 骨外科</div>-->
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 眼科</div>-->
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 口腔科</div>-->
                <!--<div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 耳鼻咽喉头颈科</div>-->
                <div class="type-item" th:each="type:${types}"><span class="glyphicon glyphicon-unchecked"></span> <span
                        th:text="${type.tname}"></span></div>

                <div class="type-item"><span class="glyphicon glyphicon-unchecked"></span> 其他科室</div>
                <div id="type-detail">
                    <p class="text-detail-title">内科</p>
                    <p id="kslist" class="text-detail">
                        <a href="javascript:void(0)" class="a-normal text-detail" onclick="search(168)">妇科</a><span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
                        <a href="javascript:void(0)" class="a-normal text-detail" onclick="search(169)">产科</a><span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
                    </p><br/><br/>
                    <p class="text-detail-title">内科常见疾病</p>
                    <p id="jblist" class="text-detail">
                        <a href="#" class="a-normal text-detail" onclick="search(169)">冠心病</a><span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
                        <a href="#" class="a-normal text-detail" onclick="search(169)">高血压</a><span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
                    </p>
                </div>
            </div>
        </div>
        <div id="ad">
            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <img src="images/carousel_01.png" alt="广告1" style="height: 400px">
                        <div class="carousel-caption">

                        </div>
                    </div>
                    <div class="item">
                        <img src="images/carousel_02.jpg" alt="广告2" style="height: 400px">
                        <div class="carousel-caption">

                        </div>
                    </div>
                    <div class="item">
                        <img src="images/carousel_03.png" alt="广告3">
                        <div class="carousel-caption">

                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>

        <div id="hosinfo" class="bg-lightgray text-center">
            <form action="" th:action="@{/guahao}" method="get">
                <div class="banner-search">
                    <div class="caption"><span class="text">快速预约</span></div>
                    <div class="form ui-cascading">
                        <div class="line">
                            <select id="sel1" class="form-control" name="province">
                                <option>选择省份</option>
                            </select>
                        </div>
                        <div class="line">
                            <select id="sel2" class="form-control" name="city">
                                <option>选择城市</option>
                            </select>
                        </div>
                        <div class="line">
                            <select id="sel3" name="hospital">
                                <option>医院名称</option>
                            </select>
                        </div>
                        <div class="line">
                            <select name="type">
                                <option>医院科室</option>
                                <option th:each="type:${types}" th:text="${type.tname}">医院科室</option>
                            </select>
                        </div>
                    </div>
                    <div class="submit">
                        <input type="button" class="button" value="快速挂号">
                    </div>
                </div>
            </form>

            <div class="banner-help">

                <div id="typebox-container">
                    <div id="typebox">
                        <p>预约挂号</p>
                        <p>帮助普通患者快速找到选定条件下可预约的专家</p>
                        <p>(目前只支持部分医院)</p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<div id="forth" class="width-main center">
    <div class="navi bg-lightgray">
        <div class="bg-darkblue navi-item text-white text-center">推荐专家</div>
        <div class="bg-darkblue navbar-right"><a th:href="@{/wenzheng}">查看更多</a></div>
    </div>

    <!--医生-->
    <div id="doctors" class="docter-list">
        <div class="doctor-item" th:each="doctor,iterStat:${page.content}" th:if="${doctor.hospital}!=null">
            <div class="doctor-img-box">
                <img src="images/doc_01.jpg" alt="医生头像" class="img-circle" th:src="${doctor.dphoto}"/>
            </div>
            <div><h4 th:text="${doctor.dname}">贾栋</h4></div>
            <div th:text="${doctor.hospital.hname}">空军军医大学唐都医院</div>
            <div th:text="${doctor.type.tname}">神经外科</div>
            <div class="doctor-item-bottom text-center">
                <div class="doctor-special" th:text="${doctor.dintroduction}">擅长:擅长痤疮、黄褐斑、脱发、性病的治疗。</div>
            </div>
            <div class="row-fluid">
                <div style="float: left;padding-right: 10px">
                    <a th:href="@{/doctor/{did}(did=${doctor.did})}" class="left">
                        <button class="btn btn-primary" type="button">在线问诊</button>
                    </a>
                </div>
                <div style="float: right;">
                    <a th:href="@{/doctor/{did}(did=${doctor.did})}" class="left">
                        <button class="btn btn-primary" type="button">视频问诊</button>
                    </a>
                </div>
            </div>
        </div>

    </div>
</div>
</div>


<div th:replace="_fragments::foot"></div>
</body>

<script type="text/javascript">
    $(function () {   //页面加载执行ajax封装的get请求方法调用省级查询全部
        $.get("one", function (reult) {
            $.each(reult, function (index, item) {
                var row = "<option id='" + item.code + "'>" + item.name + "</option>"    //把返回结果的省级对象的编号code作为id值，name作为文本值
                $("#sel1").append(row)
            })
        })
    })
    $("#sel1").change(function () {  //省级下拉框选项改变时触发，先清空市区级下拉框
        $("#sel2").empty();
        $("#sel2").append("<option>请选择</option>")
        $("#sel3").empty();
        $("#sel3").append("<option>请选择</option>")
        var provinceCode = $(this).find("option:checked").attr("id");  //取省级的id值，即省级的code编号
        if (provinceCode == null || provinceCode == "") {
            return false;
        }
        $.get("two", {"provinceCode": provinceCode}, function (result) {   //使用$.get()方法走查询省对应的市级，把省级的code作为参数传过去
            $.each(result, function (index, item) {
                var row = "<option id='" + item.code + "'>" + item.name + "</option>"  //同样把返回结果的市级对象的编号code作为id值，name作为文本值
                $("#sel2").append(row)
            })
        })

    })
    $("#sel2").change(function () {  //当市级下拉框改变时，触发的事件，与上面的无异
        $("#sel3").empty();
        $("#sel3").append("<option>请选择</option>")
        var cityCode = $(this).find("option:checked").attr("id");
        if (cityCode == null || cityCode == "") {
            return false;
        }
        $.get("four", {"cityCode": cityCode}, function (result) {
            $.each(result, function (index, item) {
                var row = "<option id='" + item.hid + "'>" + item.hname + "</option>"  //同样把返回结果的市级对象的编号code作为id值，name作为文本值

                $("#sel3").append(row)
            })
        })

    })
</script>
</html>